{"ast":null,"code":"import _classCallCheck from \"C:\\\\projetos\\\\seed-dotnet6.0angular13\\\\Seed.Spa.Ui\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\projetos\\\\seed-dotnet6.0angular13\\\\Seed.Spa.Ui\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport _inherits from \"C:\\\\projetos\\\\seed-dotnet6.0angular13\\\\Seed.Spa.Ui\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";\nimport _createSuper from \"C:\\\\projetos\\\\seed-dotnet6.0angular13\\\\Seed.Spa.Ui\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";\n//import { ApiService } from 'app/common/services/api.service';\nimport { ApiService } from '../common/services/api.service';\nimport { ServiceBase } from '../common/services/service.base';\nimport { GlobalServiceCulture } from '../global.service.culture';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../global.service.culture\";\nimport * as i2 from \"../common/services/api.service\";\nexport var MainService = /*#__PURE__*/(function () {\n  var MainService = /*#__PURE__*/function (_ServiceBase) {\n    _inherits(MainService, _ServiceBase);\n\n    var _super = _createSuper(MainService);\n\n    function MainService(globalServiceCulture, api) {\n      var _this;\n\n      _classCallCheck(this, MainService);\n\n      _this = _super.call(this);\n      _this.globalServiceCulture = globalServiceCulture;\n      _this.api = api;\n      return _this;\n    }\n\n    _createClass(MainService, [{\n      key: \"updateCulture\",\n      value: function updateCulture(vm) {\n        var culture = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        this.getInfosTranslated(this.globalServiceCulture.defineCulture(culture)).then(function (result) {\n          vm.generalInfo = result;\n        });\n      }\n    }, {\n      key: \"resetCulture\",\n      value: function resetCulture() {\n        this.globalServiceCulture.reset();\n      }\n    }, {\n      key: \"getInfosTranslated\",\n      value: function getInfosTranslated(culture) {\n        return this.globalServiceCulture.getInfosTranslatedStrategy('Geral', culture, this.getInfos(), []);\n      }\n    }, {\n      key: \"getInfos\",\n      value: function getInfos() {\n        return this.getInfosFields();\n      }\n    }, {\n      key: \"getInfosFields\",\n      value: function getInfosFields() {\n        return {\n          nova: {\n            label: 'Nova'\n          },\n          buscar: {\n            label: 'Buscar'\n          },\n          voltar: {\n            label: 'Voltar'\n          },\n          sair: {\n            label: 'Sair'\n          },\n          filtro: {\n            label: 'Filtros'\n          },\n          novoItem: {\n            label: 'Novo item'\n          },\n          editarItem: {\n            label: 'Editar item'\n          },\n          abrir: {\n            label: 'Abrir'\n          },\n          titulo: {\n            label: 'Titulo'\n          },\n          acao: {\n            label: 'AÃ§Ã£o'\n          },\n          totalRegistro: {\n            label: 'Total de registros'\n          },\n          proximo: {\n            label: 'PrÃ³ximo'\n          },\n          anterior: {\n            label: 'Anterior'\n          },\n          filtrar: {\n            label: 'Filtrar'\n          },\n          salvar: {\n            label: 'Salvar'\n          },\n          cancelar: {\n            label: 'Cancelar'\n          },\n          sim: {\n            label: 'Ok'\n          },\n          imprimir: {\n            label: 'Imprimir'\n          },\n          procurar: {\n            label: 'Procurar'\n          },\n          excluir: {\n            label: 'Excluir'\n          },\n          limpar: {\n            label: 'Limpar'\n          },\n          importar: {\n            label: 'Importar'\n          }\n        };\n      }\n    }, {\n      key: \"transformTools\",\n      value: function transformTools(tools) {\n        var source = JSON.parse(tools).filter(function (item) {\n          return item.Type == 1;\n        });\n        var parentItems = source.filter(function (item) {\n          return item.ParentKey == \"\" || !item.ParentKey;\n        }).map(function (item) {\n          return {\n            name: item.Name,\n            url: item.Route,\n            icon: item.Icon,\n            key: item.Key,\n            parentkey: item.ParentKey,\n            title: item.Title\n          };\n        });\n        var childrenItems = source.filter(function (item) {\n          return item.ParentKey != \"\";\n        }).map(function (item) {\n          return {\n            name: item.Name,\n            url: item.Route,\n            icon: item.Icon,\n            parentkey: item.ParentKey,\n            title: item.Title\n          };\n        });\n        var tools = parentItems.map(function (parentItem) {\n          var children = childrenItems.filter(function (childrenItem) {\n            return parentItem.key == childrenItem.parentkey;\n          });\n\n          if (parentItem.title) {\n            return {\n              title: true,\n              name: parentItem.name\n            };\n          }\n\n          if (children && children.length > 0) {\n            return {\n              name: parentItem.name,\n              url: parentItem.url ? parentItem.url : \"/\" + parentItem.name,\n              icon: parentItem.icon,\n              children: children\n            };\n          }\n\n          return {\n            name: parentItem.name,\n            url: parentItem.url,\n            icon: parentItem.icon\n          };\n        });\n        return tools;\n      }\n    }]);\n\n    return MainService;\n  }(ServiceBase);\n\n  MainService.ɵfac = function MainService_Factory(t) {\n    return new (t || MainService)(i0.ɵɵinject(i1.GlobalServiceCulture), i0.ɵɵinject(i2.ApiService));\n  };\n\n  MainService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MainService,\n    factory: MainService.ɵfac\n  });\n  return MainService;\n})();","map":null,"metadata":{},"sourceType":"module"}